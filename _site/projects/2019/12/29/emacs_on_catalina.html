<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/style.css?v=6a6bb086d0984085a8904dcdbb3be7d216431bb4">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>emacs on catalina | y don’t u blog about it</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="emacs on catalina" />
<meta name="author" content="jowj" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="emacs on catalina" />
<meta property="og:description" content="emacs on catalina" />
<link rel="canonical" href="http://localhost:4000/projects/2019/12/29/emacs_on_catalina.html" />
<meta property="og:url" content="http://localhost:4000/projects/2019/12/29/emacs_on_catalina.html" />
<meta property="og:site_name" content="y don’t u blog about it" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-12-29T00:00:00-06:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/projects/2019/12/29/emacs_on_catalina.html","description":"emacs on catalina","@type":"BlogPosting","headline":"emacs on catalina","dateModified":"2019-12-29T00:00:00-06:00","datePublished":"2019-12-29T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/projects/2019/12/29/emacs_on_catalina.html"},"author":{"@type":"Person","name":"jowj"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>josiah ledbetter</h1>
        </header>
        <section id="downloads" class="clearfix">
          
	
        </section>
        <hr>
        <section id="main_content">
          <h1 id="emacs-on-catalina">emacs on catalina</h1>

<h2 id="early-days">early days</h2>
<p>i had to move from mojave to catalina during the beta to test some security tooling for work (spoilers: it sucked, though now cylance has actually fixed their catalina problems) and the process was r o u g h almost entirely because of emacs.</p>

<p>at first there was only a single reddit post detailing what emacs users might need to know about. it linked to <a href="https://gist.github.com/dive/f64c645a9086afce8e5dd2590071dbf9">this gist</a></p>

<p>this basically says to run this lisp to add your proper emacs path to the proper exclusions and then you won’t have any problems. Ok great! but that didn’t work. I could now /launch/ emacs from Spotlight and navigate around my Docs/Downloads/whatever, but i was totally unable to /swap/ to emacs from Spotlight. this also impacted using hammerspoon as a launcher, i’m guessing because the primative behind both mechanisms is the same.</p>

<h2 id="partial-fix">partial fix</h2>
<p>later that week, a few other people said you needed to whitelist <em>ruby’s</em> executable because that was actually how homebrew installed emacs; the emacs executable is called from a ruby script (which is called by a ball rolling down a train track headed towards a toothpick which,) and thus needs to be whitelisted as well. but that didn’t work either (though they were actually correct that ruby was involved).</p>

<p>since I could at least launch and navigate around with my then-current janky set up i stopped spending Paid Time on it and moved on. i ran the the rest of the catalina beta out and then reported back on my experience with our security tools, whatever. a few weeks ago i finally got mad enough at the situation to spend some more time looking at this and found the answer really soon! apparently a bunch of people had similar problems to me and so there are several blogs about the problem now! the one I found most helpful was <a href="https://spin.atomicobject.com/2019/12/12/fixing-emacs-macos-catalina/">this guy</a></p>

<h2 id="jankiest-fix">jankiest fix</h2>
<p>he gives a good breakdown as to why this is needed <em>instead of</em> the ruby application whitelisting. here’s the quick fix:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      %  <span class="nb">cd</span>  /Applications /Emacs.app /Contents /MacOS
      %  mv Emacs Emacs-launcher
      %  mv Emacs-x86_64- 10_14 Emacs
      %  <span class="nb">cd</span>  /Applications /Emacs.app /Contents /
      %  rm  <span class="nt">-rf</span> _CodeSignature
</code></pre></div></div>

<p>this is not like, super great. its makes your configuration brittle and it will break when you update emacs! version 27 is looming i hear. but at least i can fucking swap to emacs again.</p>

        </section>

        <footer>
        
        </footer>

      </div>
    </div>

    
  </body>
</html>
